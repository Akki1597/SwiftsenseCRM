@model InvoiceMicroServices.WebMVC.AdminDashboard.Models.billinginfo

@{
    ViewData["Title"] = "InvoiceTemplate";
    var count = Int32.Parse(Model.invoiceCount.ToString());
    count = count + 1;
    var invoiceDate = DateTime.UtcNow.ToShortDateString();
}

<link href="~/css/InvoiceTemplate.css" rel="stylesheet" />

<div class="invoicebg fontclass" style="width:1100px; margin-left:auto; margin-right:auto; padding-top:80px; height:1555px;">
    <div class="row" style="width:80%; margin-left:auto; margin-right:auto;">
        <div class="col-lg-12">
            <div class="row">

                <div class="col-lg-7">
                    <h3>INVOICE</h3>
                </div>
                @*<div class="col-lg-3"></div>*@
                <div class="col-lg-5 text-center">
                    <img src="~/images/FAsset 4@2x.png" style="width:100px; height:100px;" />
                </div>
            </div>
            <br />
            <div class="row">

                <div class="col-lg-3">
                    <h4 class="underline">DATE</h4>
                    <h5>@invoiceDate</h5>
                </div>
                <div class="col-lg-4">
                    <h4 class="underline">INVOICE NO</h4>

                    <h5>SSIT @count.ToString().PadLeft(4, '0')</h5>

                    <br />

                    <h4 class="underline">PROJECT ID</h4>

                    <h5>@Model.clientDetails.projectId</h5>
                </div>
                <div class="col-lg-5">
                    <h4>@Model.companydetails.companyName</h4>

                    GST No. : @Model.companydetails.gstNo
                    <br />
                    @Model.companydetails.address
                    <br />
                    Phone : (+91) @Model.companydetails.phoneNo
                    <br />
                    Email: <a href="">@Model.companydetails.email</a>
                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-lg-6">
                    <h5>
                        @Model.clientDetails.name
                    </h5>

                    @Model.clientDetails.address

                    Phone : @Model.clientDetails.phone
                    <br />
                    Email : @Model.clientDetails.email

                </div>
                <div class="col-lg-6">

                </div>
            </div>
            <br />
            <div class="row InvoiceItems">
                <div class="col-lg-12">
                    <table class="table table-bordered table-sm">
                        <thead>
                            <tr class="center" style="background-color:#B8E1FA">
                                <th>
                                    <h5>
                                        @Model.projectDetails.name<br />
                                        (GL Code: @Model.projectDetails.pCode)
                                    </h5>
                                </th>
                                <th style="width:110px;">
                                    <h5>
                                        Billing
                                        Rate / Hr
                                        (USD)
                                    </h5>
                                </th>
                                <th style="width:110px;">
                                    <h5>
                                        No of
                                        Hours
                                    </h5>
                                </th>
                                <th style="width:110px;">
                                    <h5>
                                        Total
                                        (USD)
                                    </h5>
                                </th>

                            </tr>
                        </thead>
                        <tbody>
                            @{ int i = 0;}
                            @{int? sum = 0; }
                            @{ int? totalhrs = 0;}
                            @for (int j = 0; j < Model.billingRate.Employees.Count; j++)
                            {

                                <tr>
                                    <td>@(i = i + 1) ) @Model.billingRate.Employees[j].employeeName</td>
                                    <td class="center"> @Model.billingRate.Employees[j].RatePerHr</td>
                                    <td class="center"> @Model.billingRate.Employees[j].NoofHours</td>
                                    <td class="center">@(Model.billingRate.Employees[j].NoofHours * Model.billingRate.Employees[j].RatePerHr)</td>

                                </tr>
                                sum += Model.billingRate.Employees[j].NoofHours * Model.billingRate.Employees[j].RatePerHr;
                                totalhrs += Model.billingRate.Employees[j].NoofHours;
                            }


                            <tr class="center">

                                <td colspan="3">
                                    <h6>TOTAL (USD)</h6>
                                </td>
                                <td>
                                    <h6>@sum </h6>
                                    <input type="hidden" asp-for="totalAmount" value="@sum" />
                                    <input type="hidden" asp-for="invoiceCount" value="@count.ToString().PadLeft(4, '0')" />
                                    <input type="hidden" asp-for="invoiceDate" value="@invoiceDate" />
                                    <input type="hidden" asp-for="projectDetails.projectId" value="@Model.projectDetails.projectId" />
                                    <input type="hidden" asp-for="projectDetails.name" value="@Model.projectDetails.name" />
                                    <input type="hidden" asp-for="clientDetails.name" value="@Model.clientDetails.name" />
                                    <input type="hidden" asp-for="totalhrs" value="@totalhrs" />
                                    <input type="hidden" asp-for="billingMonth" value="" />
                                </td>
                            </tr>

                        </tbody>
                    </table>

                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-lg-12">
                    <h4 class="underline">
                        Payment Terms:
                    </h4>

                    1) Please make all payments payable to
                    <h5 style="padding-left:75px;">
                        <i>
                            <br />
                            SWIFTSENSE IT Solutions (OPC) Private Limited
                            <br />
                            Account Number – 50200036869869
                            <br />
                            BANK: HDFC BANK LIMITED
                            <br />
                            SWIFT CODE: HDFCINBBBNG
                        </i>
                    </h5>
                    <br /><br />
                </div>

            </div>

        </div>
    </div>
</div>
